
<div class="popup-container">
  <span class="close-btn" onclick="closePopup()">Ã—</span>
  <h2>Create / Update User</h2>
  <form id="userForm">
      <div class="form-group">
          <label for="name">Name</label>
          <input type="text" id="name" name="name" required>
      </div>
      <div class="form-group">
          <label for="surname">Surname</label>
          <input type="text" id="surname" name="surname" required>
      </div>
      <div class="form-group">
          <label for="username">Username</label>
          <input type="text" id="username" name="username" required>
      </div>
      <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" name="password" required>
      </div>
      <div class="form-group">
          <label for="role">Role</label>
          <select id="role" name="role" required>
              <option value="user">User</option>
              <option value="admin">Admin</option>
          </select>
      </div>
      <button type="submit">Submit</button>
  </form>
</div>

<script>
  // AJAX form submission
  $('#userForm').submit(function (e) {
      e.preventDefault(); // Prevent default form submission
      const userData = {
          name: $('#name').val(),
          surname: $('#surname').val(),
          username: $('#username').val(),
          password: $('#password').val(),
          role: $('#role').val(),
      };

      $.ajax({
          url: 'your-backend-endpoint', // Adjust to your backend
          method: 'POST',
          data: JSON.stringify(userData),
          contentType: 'application/json',
          success: function(response) {
              alert('User successfully created/updated!');
              closePopup(); // Close the popup on success
          },
          error: function(jqXHR, textStatus, errorThrown) {
              alert('Failed to create/update user.');
              console.log(jqXHR, textStatus, errorThrown);
          }
      });
  });
</script>
